---
import { Image } from "astro:assets";

import Link from "#/components/fundations/elements/link.astro";
import Text from "#/components/fundations/elements/text.astro";

const { title, url, description, pubDate, image } = {
  url: "/blog/posts/" + Astro.props.post.slug,
  title: Astro.props.post.data.title,
  description: Astro.props.post.data.description,
  image: Astro.props.post.data.image.url,
  pubDate: new Date(Astro.props.post.data.pubDate).toLocaleDateString("en-US", {
    year: "numeric",
    month: "long",
    day: "2-digit",
  }),
};
---

<div
  class="group grid rounded-3xl bg-linear-45 from-base-50 to-base-100 p-2 shadow ring-base-200 duration-300 hover:shadow-light sm:grid-cols-2 dark:from-base-800 dark:to-base-950 dark:ring-base-800 dark:hover:shadow-dark"
>
  <div class="group relative flex h-full flex-col justify-between overflow-hidden rounded-2xl p-4 md:min-h-96">
    <div>
      <Text tag="p" variant="textXS" class="text-base-600 dark:text-base-400">{pubDate}</Text>
      <Text tag="h3" variant="textBase" class="mt-4 font-medium text-balance text-base-900 uppercase dark:text-white">
        {title}
      </Text>
    </div>
    <div class="relative flex flex-col items-start justify-between gap-12 duration-300 sm:-mb-20 sm:group-hover:mb-0">
      <Text tag="p" variant="textBase" class="mt-8 leading-6 text-balance text-base-600 dark:text-base-400">
        {description}
      </Text>
      <Link size="xs" variant="default" href={url} title={title}>Read more </Link>
    </div>
  </div>

  <Image src={image} alt={title} width={500} height={800} class="order-first h-full w-full rounded-2xl object-cover" />
</div>

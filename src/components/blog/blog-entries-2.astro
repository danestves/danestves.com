---
import PlusIcon from "virtual:icons/tabler/plus";

import Link from "#/components/fundations/elements/link.astro";
import Text from "#/components/fundations/elements/text.astro";

const { title, url, description, pubDate } = {
  url: "/blog/posts/" + Astro.props.post.id,
  title: Astro.props.post.data.title,
  description: Astro.props.post.data.description,
  pubDate: new Date(Astro.props.post.data.pubDate).toLocaleDateString("en-US", {
    year: "numeric",
    month: "long",
    day: "2-digit",
  }),
};
---

<div
  class="group relative flex h-full min-h-96 w-full transform flex-col justify-between overflow-hidden rounded-2xl bg-linear-45 from-base-50 to-base-100 p-6 shadow ring-1 ring-base-200 transition-all duration-300 ring-inset hover:shadow-light dark:from-base-800 dark:to-base-950 dark:ring-base-800 dark:hover:shadow-dark"
>
  <div class="flex flex-col items-center md:items-start">
    <div
      class="ml-auto rounded-full bg-black p-1 text-white duration-300 group-hover:-rotate-45 dark:bg-base-50 dark:text-base-900"
    >
      <PlusIcon class="size-4" />
    </div>
    <div class="mt-4">
      <Text
        class="text-base-600 dark:text-base-400"
        tag="p"
        transition:name={`blog-date-${Astro.props.post.slug}`}
        variant="textXS"
      >
        {pubDate}
      </Text>
      <Text
        class="mt-4 font-medium text-balance text-base-900 uppercase dark:text-white"
        tag="h3"
        transition:name={`blog-title-${Astro.props.post.id}`}
        variant="textBase"
      >
        {title}
      </Text>
    </div>
  </div>

  <div class="-mb-20 flex flex-col items-start justify-between gap-12 duration-300 group-hover:mb-0">
    <Text
      class="mt-8 leading-6 text-balance text-base-600 dark:text-base-400"
      tag="p"
      transition:name={`blog-description-${Astro.props.post.slug}`}
      variant="textSM"
    >
      {description}
    </Text>
    <Link href={url} size="xs" title={title} variant="default">Read more </Link>
  </div>
</div>

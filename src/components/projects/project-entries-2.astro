---
import { Image } from "@unpic/astro";
import PlusIcon from "virtual:icons/tabler/plus";

import Link from "#/components/fundations/elements/link.astro";
import Text from "#/components/fundations/elements/text.astro";

const { title, url, subtitle, logo } = {
  url: "/projects/" + Astro.props.post.id,
  title: Astro.props.post.data.title,
  logo: Astro.props.post.data.logo.url,
  subtitle: Astro.props.post.data.subtitle,
};
---

<div
  class="group grid rounded-3xl bg-linear-45 from-base-50 to-base-100 p-2 shadow ring-base-200 duration-300 hover:shadow-light sm:grid-cols-2 dark:from-base-800 dark:to-base-950 dark:ring-base-800 dark:hover:shadow-dark"
>
  <div class="relative flex h-full min-h-72 flex-col justify-between overflow-hidden rounded-2xl p-4">
    <div class="flex items-center justify-between">
      <Text class="font-medium text-base-900 uppercase dark:text-white" tag="h3" variant="textBase">
        {title}
      </Text>
      <div class="rounded-full bg-base-50 p-1 text-base-900 duration-300 group-hover:-rotate-45">
        <PlusIcon class="size-4" />
      </div>
    </div>
    <div class="flex flex-col items-start justify-between gap-12 duration-300 sm:-mb-20 sm:group-hover:mb-0">
      <Text class="mt-8 leading-6 text-balance text-base-600 dark:text-base-400" tag="p" variant="textBase">
        {subtitle}
      </Text>
      <Link href={url} size="xs" title={title} variant="default">Read more </Link>
    </div>
  </div>
  <Image
    alt={title}
    class="order-first size-full rounded-2xl object-cover sm:order-last"
    height={512}
    layout="constrained"
    priority={Astro.props.prefetch}
    src={logo}
    transition:name={`project-image-${Astro.props.post.id}`}
    width={512}
  />
</div>

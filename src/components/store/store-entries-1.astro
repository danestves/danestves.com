---
import { Image } from "astro:assets";

import Link from "#/components/fundations/elements/link.astro";
import Text from "#/components/fundations/elements/text.astro";

const { title, url, description, image, price } = {
  url: "/store/" + Astro.props.post.slug,
  title: Astro.props.post.data.title,
  price: Astro.props.post.data.price,
  description: Astro.props.post.data.description,
  image: Astro.props.post.data.image.url,
};
---

<div
  class="group grid rounded-3xl bg-linear-45 from-base-50 to-base-100 p-2 shadow ring-base-200 duration-300 hover:shadow-light sm:grid-cols-2 dark:from-base-800 dark:to-base-950 dark:hover:shadow-dark"
>
  <div class="relative flex h-full flex-col justify-between overflow-hidden rounded-2xl p-4">
    <Text
      class="flex w-full items-center justify-between font-medium text-balance text-base-900 uppercase dark:text-white"
      tag="h3"
      transition:name={`store-title-${Astro.props.post.slug}`}
      variant="textBase"
    >
      {title} ${price}
    </Text>
    <div class="flex flex-col items-start justify-between gap-12 duration-300">
      <Text
        class="mt-8 leading-6 text-balance text-base-600 dark:text-base-400"
        tag="p"
        transition:name={`store-description-${Astro.props.post.slug}`}
        variant="textSM"
      >
        {description}
      </Text>
      <Link href={url} size="xs" title={title} variant="default">Read more </Link>
    </div>
  </div>
  <Image
    alt={title}
    class="order-first h-full rounded-2xl object-cover object-left ring ring-base-200 sm:order-last dark:ring-base-950"
    height={500}
    src={image}
    transition:name={`store-image-${Astro.props.post.slug}`}
    width={500}
  />
</div>
